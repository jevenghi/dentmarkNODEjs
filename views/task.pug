extends base

block styles
  link(rel="stylesheet" href="/css/style.css")
  link(href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz@9..40&family=Tourney:wght@100&display=swap&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet")
block content
  header.header
      button.nav__el.nav__el--myacc
        img(src="../user.png", alt="AccIcon")
  div.modal.hidden
    div.modal__content
      a.modal__link(href="/me") My profile
      a.modal__link(href="/") Send new task
      a.modal__link(href="/tasks") My tasks
      a.modal__link.logout(href="#") Log out
  .main-container
    if role === 'admin'  
      button.delete-task(data-task-id=taskId) Delete Task
    .task-header
      if role === 'admin'
        p Customer: #{customer}
      p Model: #{model}
      p Task created: #{date}
      //- button.add-dents(data-task-id=taskId) Add dents

      .task-status-wrapper
        if role === 'admin' 
          p Task status:  
          select.task-status-select(data-task-id=taskId)
            option(value="open", selected=taskStatus === "open") Open
            option(value="in-progress", selected=taskStatus === "in-progress") In Progress
            option(value="pending", selected=taskStatus === "pending") Complete/Not paid
            option(value="complete", selected=taskStatus === "complete") Paid
      .task-cost-wrapper
        if role === 'admin'
          p Total cost:
          input(type="text", placeholder=`€${totalCost}`, class="total-cost", data-task-id=taskId)
             
      if role === 'user'
        p Task status: #{taskStatus}
        p Total cost: € #{totalCost}
    //- .marker-container(style="display: none")
    .marker-container
      .row.row--shapes
        label Shape:
        .buttons-shape
          button.m_button.m_button--shapes#nonagon
            img(src="../pics/button_pics/nonagon.png" alt="nonagon" id="circle")
          button.m_button.m_button--shapes#line
            img(src="../pics/button_pics/strip2.png" alt="strip" id="strip")
      .row.row--orientation.hidden
        label Orientation:
        .orientation-buttons
          button.m_button.m_button--orientation#0deg
            img(src="../pics/button_pics/0deg.png" alt="0deg" id="flat")
          button.m_button.m_button--orientation#90deg
            img(src="../pics/button_pics/90deg.png" alt="90deg" id="flat")
          button.m_button.m_button--orientation#135deg
            img(src="../pics/button_pics/135deg.png" alt="135deg" id="flat")
          button.m_button.m_button--orientation#45deg
            img(src="../pics/button_pics/45deg.png" alt="45deg" id="flat")
      .row
        label Distance:
        .buttons
          button.m_button.m_button--distance#small 0 - 5
          button.m_button.m_button--distance#medium 5-10
          button.m_button.m_button--distance#big 10+
      .checkbox-paint
        label
          | Paint damaged
          input(type="checkbox" class="m_checkbox m_checkbox--paint" id="paint-damaged")
    
    div.choose.choose__side
      h1 Add another side
      //- span.arrow.arrow__side
    .sides-container.visible
      each side in sidesLeft
        button.button.button--side(value=`${side}`)
          img(src=`../pics/sides_pics/${side}.png`, id=`${side}`)
        
             
    != dentsHTML
    //- a(href=`/?taskId=${taskId}` class="add-dents") Add dents
    button(type="button" class="add-dents" data-task-id=taskId) Add dents


                   
    button(type="button" class='back-tasks') Back to tasks           
  .overlay.hidden
            